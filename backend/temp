WITH points AS (select id, geometry from vw_points),
nb_rows AS (select ROW_NUMBER() OVER ())
select points.id, ST_CLUSTERKMEANS(points.geometry, ROUND(ROW_NUMBER() OVER () / 10)) OVER() from points